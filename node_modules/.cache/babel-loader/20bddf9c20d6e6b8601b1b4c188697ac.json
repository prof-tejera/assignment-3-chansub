{"ast":null,"code":"var _jsxFileName = \"/Users/steymourian/Documents/GitHub/personal/assignment-2-chansub/src/context/LocalTime.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from \"react\";\nimport { useInterval } from \"../hooks\";\nimport { AppContext } from \"./ContextProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = _ref => {\n  _s();\n\n  let {\n    duration,\n    index,\n    type,\n    isHome\n  } = _ref;\n  const {\n    activeIndex,\n    paused,\n    setActiveIndex,\n    removeItem\n  } = useContext(AppContext);\n  const [time, setTime] = useState(0);\n  const active = activeIndex === index;\n  useInterval(() => {\n    if (paused || !active) return; //If end has reached, reset everything\n    // if((queue.length-1) === activeIndex) {\n    //   console.log(\"End reached!\");\n    //   setActiveIndex(0);\n    //   setPaused(true);\n    //   return;\n    // } \n\n    if (`${time}` === `${duration}`) {\n      setActiveIndex(index + 1);\n    } else {\n      setTime(c => c + 1);\n    }\n  }, 1000);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: 'q' + index,\n    style: {\n      backgroundColor: active ? \"yellow\" : \"white\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => removeItem(index),\n      style: {\n        display: !isHome ? 'inline-block' : 'none'\n      },\n      children: \"Remove\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), \"Timer: \", type, \" - Duration: \", duration, (() => {\n      switch (type) {\n        case type === 'Stopwatch':\n          {\n            return /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Stopwatch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 33\n            }, this);\n          }\n          break;\n\n        case type === 'Countdown':\n          {\n            return /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Countdown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this);\n          }\n          break;\n\n        default:\n          {\n            return /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this);\n          }\n          break;\n      }\n    })(), active && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: [\" (Progress: \", time, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 26\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 20\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Timer, \"Ox0KokEChzCbHausXE4/SNa6VjA=\", false, function () {\n  return [useInterval];\n});\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"names":["useContext","useState","useInterval","AppContext","Timer","duration","index","type","isHome","activeIndex","paused","setActiveIndex","removeItem","time","setTime","active","c","backgroundColor","display"],"sources":["/Users/steymourian/Documents/GitHub/personal/assignment-2-chansub/src/context/LocalTime.js"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { useInterval } from \"../hooks\";\nimport { AppContext } from \"./ContextProvider\";\n\nconst Timer = ({ duration, index, type, isHome }) => {\n  const { activeIndex, paused, setActiveIndex, removeItem} = useContext(AppContext);\n  const [time, setTime] = useState(0);\n  const active = activeIndex === index;\n\n  useInterval(() => {\n    if (paused || !active) return;\n       \n    //If end has reached, reset everything\n    // if((queue.length-1) === activeIndex) {\n    //   console.log(\"End reached!\");\n    //   setActiveIndex(0);\n    //   setPaused(true);\n    //   return;\n    // } \n\n    if (`${time}` === `${duration}`){\n        setActiveIndex(index + 1);\n      } else {\n        setTime((c) => c + 1);\n      }\n    }, 1000);\n\n    return (\n      <div id={'q'+index}\n        style={{\n          backgroundColor: active ? \"yellow\" : \"white\"\n        }}\n      >\n        <button onClick={() => removeItem(index)} style={{display: (!isHome) ? 'inline-block' : 'none'}}>Remove</button>\n\n        Timer: {type} - Duration: {duration} \n\n        {\n            (() => {\n                switch(type) {\n                        \n                    case(type === 'Stopwatch'): {\n                            return (\n                                <span>Stopwatch</span>\n                            )\n                        }\n                    break;\n                        \n                    case(type === 'Countdown'): {\n                        return (\n                            <span>Countdown</span>\n                        )\n                    }\n                    break;\n                    default: {\n                            return (\n                                <span>none</span>\n                            )\n                        }\n                    break;\n                    }\n            })()  \n        }  \n\n\n\n        {active && <span><em> (Progress: {time})</em></span>}\n        \n\n        \n      </div>\n    );\n};\n\nexport default Timer;\n"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,SAASC,WAAT,QAA4B,UAA5B;AACA,SAASC,UAAT,QAA2B,mBAA3B;;;AAEA,MAAMC,KAAK,GAAG,QAAuC;EAAA;;EAAA,IAAtC;IAAEC,QAAF;IAAYC,KAAZ;IAAmBC,IAAnB;IAAyBC;EAAzB,CAAsC;EACnD,MAAM;IAAEC,WAAF;IAAeC,MAAf;IAAuBC,cAAvB;IAAuCC;EAAvC,IAAqDZ,UAAU,CAACG,UAAD,CAArE;EACA,MAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAAC,CAAD,CAAhC;EACA,MAAMc,MAAM,GAAGN,WAAW,KAAKH,KAA/B;EAEAJ,WAAW,CAAC,MAAM;IAChB,IAAIQ,MAAM,IAAI,CAACK,MAAf,EAAuB,OADP,CAGhB;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,IAAK,GAAEF,IAAK,EAAR,KAAe,GAAER,QAAS,EAA9B,EAAgC;MAC5BM,cAAc,CAACL,KAAK,GAAG,CAAT,CAAd;IACD,CAFH,MAES;MACLQ,OAAO,CAAEE,CAAD,IAAOA,CAAC,GAAG,CAAZ,CAAP;IACD;EACF,CAhBQ,EAgBN,IAhBM,CAAX;EAkBE,oBACE;IAAK,EAAE,EAAE,MAAIV,KAAb;IACE,KAAK,EAAE;MACLW,eAAe,EAAEF,MAAM,GAAG,QAAH,GAAc;IADhC,CADT;IAAA,wBAKE;MAAQ,OAAO,EAAE,MAAMH,UAAU,CAACN,KAAD,CAAjC;MAA0C,KAAK,EAAE;QAACY,OAAO,EAAG,CAACV,MAAF,GAAY,cAAZ,GAA6B;MAAvC,CAAjD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALF,aAOUD,IAPV,mBAO6BF,QAP7B,EAUM,CAAC,MAAM;MACH,QAAOE,IAAP;QAEI,KAAKA,IAAI,KAAK,WAAd;UAA4B;YACpB,oBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ;UAGH;UACL;;QAEA,KAAKA,IAAI,KAAK,WAAd;UAA4B;YACxB,oBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ;UAGH;UACD;;QACA;UAAS;YACD,oBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ;UAGH;UACL;MApBJ;IAsBH,CAvBD,GAVN,EAsCGQ,MAAM,iBAAI;MAAA,uBAAM;QAAA,2BAAiBF,IAAjB;MAAA;QAAA;QAAA;QAAA;MAAA;IAAN;MAAA;MAAA;MAAA;IAAA,QAtCb;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA6CH,CApED;;GAAMT,K;UAKJF,W;;;KALIE,K;AAsEN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}